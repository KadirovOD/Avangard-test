<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasb Tanlash Testi</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Ubuntu', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
        }
        .container {
            max-width: 90%;
            width: 800px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            font-family: 'Montserrat', sans-serif;
            color: #333;
        }
        .progress-bar {
            width: 100%;
            background-color: #ddd;
            border-radius: 5px;
            margin: 20px 0;
        }
        .progress {
            height: 20px;
            background-color: #4CAF50;
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s;
        }
        .question {
            margin: 20px 0;
            font-size: 1.2em;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .option {
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }
        .option:hover {
            background-color: #e9e9e9;
        }
        .option input {
            display: none;
        }
        .option.selected {
            background-color: #d4edda;
            border-color: #c3e6cb;
        }
        .button {
            padding: 15px 25px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 20px 0;
        }
        .button:hover {
            background-color: #0056b3;
        }
        .consultation-button {
            background-color: #dc3545;
        }
        .consultation-button:hover {
            background-color: #c82333;
        }
        .hidden {
            display: none;
        }
        @media (max-width: 600px) {
            .container {
                width: 95%;
                padding: 15px;
            }
            .question {
                font-size: 1em;
            }
            .option {
                padding: 10px;
                font-size: 0.9em;
            }
            .button {
                padding: 12px 20px;
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Boshlang‘ich sahifa -->
        <div id="introPage">
            <h1>Kasb Tanlash Testi</h1>
            <p>Bu test <strong>Hollandning kasbiy qiziqishlar nazariyasi</strong> va <strong>Myers-Briggs shaxsiyat tipologiyasi</strong> usullariga asoslangan. Test sizning qiziqishlaringiz va qobiliyatlaringizni baholaydi va kelajakdagi kasbingizga mosligingizni aniqlaydi. 20 ta savolga javob bering va natijalarni ko‘ring!</p>
            <button class="button" onclick="startTest()">Testni Boshlash</button>
        </div>

        <!-- Test sahifasi -->
        <div id="testPage" class="hidden">
            <h2>Savol <span id="currentQuestionNumber"></span>/20</h2>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="question" id="questionText"></div>
            <div class="options" id="options"></div>
            <button class="button" onclick="nextQuestion()" id="nextButton">Keyingi Savol</button>
        </div>

        <!-- Natija sahifasi -->
        <div id="resultPage" class="hidden">
            <h2>Sizning Natijalaringiz</h2>
            <div id="results"></div>
            <p style="margin-top: 30px; font-weight: bold;">Natijalarni muhokama qilish uchun mutaxassis bilan bog‘laning!</p>
            <a href="http://avangardschool.uz/konsultatsiya" target="_blank">
                <button class="button consultation-button">Mutaxasis bilan Bog‘lanish</button>
            </a>
        </div>
    </div>

    <script>
        // Test savollari (har birida 4 ta variant)
        const questions = [
            { question: "Siz ko‘proq qaysi faoliyatni yoqtirasiz?", options: ["Yangi narsalarni o‘rganish", "Jamoada ishlash", "Ijodiy ishlar", "Insonlarning sog‘lig‘ini saqlash"] },
            { question: "Qiyin muammoni yechishda qanday yondashasiz?", options: ["Tahlil qilaman", "Tez harakat qilaman", "Intuitsiyamga tayanaman", "Jamoa bilan maslahatlashaman"] },
            { question: "Bo‘sh vaqtingizda nima bilan shug‘ullanishni yoqtirasiz?", options: ["Kitob o‘qish", "Sport bilan shug‘ullanish", "Rassomlik", "Texnologiyalarni o‘rganish"] },
            { question: "Siz uchun muhim bo‘lgan ish muhiti qanday?", options: ["Tinch va tartibli", "Faol va dinamik", "Ijodiy va erkin", "Hamkorlikka asoslangan"] },
            { question: "Siz qanday odam sifatida tanilgan bo‘lishni xohlaysiz?", options: ["Aqlli va tahlilchi", "Rahbar va tashkilotchi", "Ijodkor", "Yordamchi"] },
            { question: "Yangi loyiha boshlaganda qanday harakat qilasiz?", options: ["Reja tuzaman", "Darhol ishga kirishaman", "G‘oyalarni yig‘aman", "Jamoa bilan muhokama qilaman"] },
            { question: "Qanday ish sizni ko‘proq qiziqtiradi?", options: ["Ilmiy tadqiqotlar", "Tadbirkorlik", "San’at va dizayn", "Ijtimoiy loyihalar"] },
            { question: "Sizning eng kuchli tomoningiz nima?", options: ["Tahlil qilish", "Muloqot qilish", "Yaratuvchanlik", "Tashkilotchilik"] },
            { question: "Stressli vaziyatda qanday harakat qilasiz?", options: ["Tinchlanaman va o‘ylayman", "Tez qaror qabul qilaman", "Yordam so‘rayman", "Ijodiy yechaman"] },
            { question: "Qanday loyihalarda ishlashni yoqtirasiz?", options: ["Uzoq muddatli va chuqur", "Tez va dinamik", "Yaratuvchan", "Jamoaviy"] },
            { question: "Sizning eng sevimli mashg‘ulotingiz nima?", options: ["Texnologiyalar bilan ishlash", "Sport", "Rassomlik yoki yozish", "O‘rgatish"] },
            { question: "Siz uchun eng muhim qadriyat nima?", options: ["Bilim olish", "Muvaffaqiyat", "Erkinlik", "Hamkorlik"] },
            { question: "Qanday muhitda o‘zingizni qulay his qilasiz?", options: ["Tartibli", "Raqobatbardosh", "Ijodiy", "Do‘stona"] },
            { question: "Sizning orzuingizdagi kasb qanday bo‘lishi kerak?", options: ["Ilmiy", "Biznesga asoslangan", "San’at", "Ijtimoiy"] },
            { question: "Muammoni hal qilishda qaysi usuldan foydalanasiz?", options: ["Ma’lumotlarni tahlil qilish", "Tez harakat", "G‘oyalarni sinash", "Maslahat so‘rash"] },
            { question: "Qanday loyiha sizni ilhomlantiradi?", options: ["Ilmiy kashfiyotlar", "Yangi biznes", "San’at asari", "Jamiyatga foyda"] },
            { question: "Sizning eng katta qobiliyatingiz nima?", options: ["Mantiqiy fikrlash", "Rahbarlik", "Ijodkorlik", "Hamkorlik"] },
            { question: "Siz qanday odamlar bilan ishlashni yoqtirasiz?", options: ["Aqlli", "Faol", "Ijodiy", "Qo‘llab-quvvatlovchi"] },
            { question: "Bo‘sh vaqtingizda qanday faoliyat sizni xursand qiladi?", options: ["O‘qish", "Sport", "Musiqa", "Do‘stlar bilan vaqt o‘tkazish"] },
            { question: "Sizning kelajakdagi maqsadingiz nima?", options: ["Ilmiy kashfiyot", "Biznesmen bo‘lish", "San’atkor bo‘lish", "Jamiyatga yordam"] }
        ];

        // Foydalanuvchi javoblari
        let currentQuestion = 0;
        let testResults = [];

        // Testni boshlash
        function startTest() {
            document.getElementById('introPage').classList.add('hidden');
            document.getElementById('testPage').classList.remove('hidden');
            currentQuestion = 0;
            testResults = [];
            showQuestion();
        }

        // Savolni ko‘rsatish
        function showQuestion() {
            if (currentQuestion >= questions.length) return;

            const questionText = document.getElementById('questionText');
            const optionsDiv = document.getElementById('options');
            const currentQuestionNumber = document.getElementById('currentQuestionNumber');
            const nextButton = document.getElementById('nextButton');

            const question = questions[currentQuestion];
            currentQuestionNumber.textContent = currentQuestion + 1;
            questionText.textContent = question.question;

            optionsDiv.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.classList.add('option');
                optionDiv.innerHTML = `<input type="radio" name="option" value="${index}" id="option${index}">
                                      <label for="option${index}">${option}</label>`;
                optionDiv.addEventListener('click', () => {
                    document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
                    optionDiv.classList.add('selected');
                    optionDiv.querySelector('input').checked = true;
                });
                optionsDiv.appendChild(optionDiv);
            });

            document.getElementById('progress').style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;

            if (currentQuestion === questions.length - 1) {
                nextButton.textContent = 'Testni Yakunlash';
            } else {
                nextButton.textContent = 'Keyingi Savol';
            }
        }

        // Keyingi savolga o‘tish
        function nextQuestion() {
            const selectedOption = document.querySelector('input[name="option"]:checked');
            if (!selectedOption) {
                alert('Iltimos, biror variantni tanlang!');
                return;
            }

            testResults.push({
                question: questions[currentQuestion].question,
                answer: questions[currentQuestion].options[selectedOption.value]
            });

            currentQuestion++;
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                document.getElementById('testPage').classList.add('hidden');
                calculateAndShowResults();
            }
        }

        // Natijalarni hisoblash va ko‘rsatish
        function calculateAndShowResults() {
            const careerScores = {
                "Dasturchi": 0,
                "Tadbirkor": 0,
                "Dizayner": 0,
                "O‘qituvchi": 0,
                "Shifokor": 0,
                "Muhandis": 0,
                "Huquqshunos": 0,
                "Moliyachi": 0
            };

            testResults.forEach(result => {
                const answer = result.answer.toLowerCase();
                if (answer.includes("o‘rganish") || answer.includes("texnologiya") || answer.includes("tahlil") || answer.includes("ilmiy")) {
                    careerScores["Dasturchi"] += 10;
                }
                if (answer.includes("biznes") || answer.includes("tadbirkorlik") || answer.includes("rahbar") || answer.includes("tez")) {
                    careerScores["Tadbirkor"] += 10;
                }
                if (answer.includes("ijodiy") || answer.includes("san’at") || answer.includes("rassomlik") || answer.includes("dizayn")) {
                    careerScores["Dizayner"] += 10;
                }
                if (answer.includes("yordam") || answer.includes("hamkorlik") || answer.includes("o‘rgatish") || answer.includes("ijtimoiy")) {
                    careerScores["O‘qituvchi"] += 10;
                }
                if (answer.includes("sog‘liq") || answer.includes("tibbiyot") || answer.includes("salomatlik")) {
                    careerScores["Shifokor"] += 10;
                }
                if (answer.includes("texnik") || answer.includes("muhandis") || answer.includes("texnika")) {
                    careerScores["Muhandis"] += 10;
                }
                if (answer.includes("huquq") || answer.includes("huquqiy") || answer.includes("adolat")) {
                    careerScores["Huquqshunos"] += 10;
                }
                if (answer.includes("moliya") || answer.includes("moliyaviy") || answer.includes("hisob")) {
                    careerScores["Moliyachi"] += 10;
                }
            });

            const totalScore = Object.values(careerScores).reduce((sum, score) => sum + score, 0);
            const careerPercentages = {};
            for (const career in careerScores) {
                careerPercentages[career] = totalScore ? Math.round((careerScores[career] / totalScore) * 100) : 12.5;
            }

            // Eng yuqori foizga ega kasbni aniqlash
            let maxCareer = '';
            let maxPercentage = 0;
            for (const career in careerPercentages) {
                if (careerPercentages[career] > maxPercentage) {
                    maxPercentage = careerPercentages[career];
                    maxCareer = career;
                }
            }

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `<h3>Sizning asosiy tippingiz: ${maxCareer}</h3><p>(Moslik: ${maxPercentage}%)</p><br><h3>Barcha kasblarga mosligingiz:</h3>`;
            for (const career in careerPercentages) {
                resultsDiv.innerHTML += `<p>${career}: ${careerPercentages[career]}%</p>`;
            }

            document.getElementById('resultPage').classList.remove('hidden');
        }
    </script>
</body>
</html>
